import React, {useEffect, useState} from "react";
import {MainTemplate} from "../MainTemplate/MainTemplate";
import {Grid} from "../Grid/Grid";

export const handleArticleLength = (element) => {
	let lastIndexOfBreak = 0;
	if (element.title.length > 100) {
		lastIndexOfBreak = element.title.slice(0, 100).lastIndexOf(" ");
	}
	if (element.title.length < 100) {
		return element.title
	} else {
		return `${element.title.slice(0, lastIndexOfBreak)}`
	}
}

export const NewsPage = () => {
	const [country, setCountry] = useState('pl')
	const [news, setNews] = useState(false)
	const [settings, setSettings] = useState(false)
	const [darkTheme, setDarkTheme] = useState(false)

	// NEWS.api changed their policy and right now we can display dates only in development so Too present my app news section I created these two arrays with data to be able to display date on a server in english and in polish
	// let newsArray = [{"source":{"id":null,"name":"Gadzetomania.pl"},"author":null,"title":"Koronawirus. Netflix stworzył dokument, który zaskoczył oskarżeniami. I występuje w nim Bill Gates - Gadżetomania","description":"Wydawać by się mogło, że o koronawirusie wiemy już wszystko. Tymczasem przeszło 500 nowych zachorowań to najlepszy dowód na to, że dokument Netfliksa o COVID-19 wcale nie ukazuje się zbyt późno. Tym bardziej że dotyka czegoś więcej niż tylko pandemia.","url":"https://gadzetomania.pl/61579,koronawirus-netflix-stworzyl-dokument-ktory-zaskoczyl-oskarzeniami-i-wystepuje-w-nim-bill-gates","urlToImage":"https://i.wpimg.pl/1200x0/m.gadzetomania.pl/bill-fd70ea57c247531a563bb0f539c.jpg","publishedAt":"2020-06-18T09:42:06Z","content":"Stres zwizany z koronawirusem bdzie z nami, nawet gdy pandemia przestanie by zagroeniem&amp;hairsp;—&amp;hairsp;mówi Idris Elba, narrator najnowszego odcinka netfliksowego dokumentu \"Wyjaniamy: Koron… [+4295 chars]"},{"source":{"id":null,"name":"Interia.pl"},"author":null,"title":"Wirus HIV może ukrywać się w mózgu - Interia","description":"Kliknij i zobacz więcej.","url":"https://nt.interia.pl/raporty/raport-medycyna-przyszlosci/medycyna/news-wirus-hiv-moze-ukrywac-sie-w-mozgu,nId,4557358","urlToImage":"https://i.iplsc.com/-/000A79L26MNE4BBL-C411.jpg","publishedAt":"2020-06-18T09:00:55Z","content":"HIV moe ukrywa si w komórkach mózgowych, a stamtd wykorzystywa biae krwinki do transportu do innych narzdów.\r\nZdjcieAstrocyty i naczynia krwionone/123RF/PICSEL\r\nBadania przeprowadzone przez amerykask… [+1802 chars]"},{"source":{"id":null,"name":"Abczdrowie.pl"},"author":null,"title":"Koronawirus. U bezobjawowych COVID-19 też powoduje uszkodzenia w płucach - abczdrowie.pl","description":"- Osoby przechodzące koronawirusa w sposób bezobjawowy są główną przeszkodą w powstrzymaniu pandemii – czytamy w najnowszym badaniu naukowców z Scripps Research...","url":"https://portal.abczdrowie.pl/koronawirus-u-bezobjawowych-covid-19-tez-powoduje-uszkodzenia-w-organizmie","urlToImage":"https://i.wpimg.pl/648x0/portal-abczdrowie.wpcdn.pl/imageCache/2020/06/17/gettyimages-1213737775-170667a_b85e.jpg","publishedAt":"2020-06-18T08:58:41Z","content":"- Osoby przechodzce koronawirusa w sposób bezobjawowy s gówn przeszkod w powstrzymaniu pandemii czytamy w najnowszym badaniu naukowców z Scripps Research Institute w USA. Jednak najbardziej zaskakujc… [+5928 chars]"},{"source":{"id":null,"name":"Tech.wp.pl"},"author":"Klaudia Stawska","title":"Nie da się rozwinąć odporności na koronawirusa? Niepokojące wyniki badania z Wuhan - Wirtualna Polska","description":"Najnowsze badanie przeprowadzone na pracownikach medycznych z Wuhan, sugeruje, że ludzie mogą nigdy nie wytworzyć przeciwciał na COVID-19. Do tego wniosku doszedł zespół składający się z chińskich i amerykańskich","url":"https://tech.wp.pl/nie-da-sie-rozwinac-odpornosci-na-koronawirusa-niepokojace-wyniki-badania-z-wuhan-6522750742488705a","urlToImage":"https://v.wpimg.pl/NjU0Nzg2YQs0UjhJSElsHncKbBMOEGJIIBJ0WEgCYVtmAH4CUAF_RTNZIh8VVz4Fe1c8DxdTORp7QCJVBkInRSMBYR4OQT4GNElhHwpQKw56AX4eBAUrC2IddkJTVmNebQl-VwYFfgh4VnhIUVcrUzYDLUhfEDM=","publishedAt":"2020-06-18T08:54:00Z","content":"Najnowsze badanie, omówione w serwisie medRxiv.org, zostao przeprowadzone na ponad 23 000 pracownikach medycznych, którzy walczyli z epidemi w Wuhan od koca zeszego roku. Zdaniem autorów opracowania,… [+3095 chars]"},{"source":{"id":null,"name":"Londynek.net"},"author":"PAP / Marcin R.","title":"Naukowcy z Londynu: 350 mln ludzi na świecie zagrożonych Covid-19 - Londynek","description":"Jedna piąta ludzi na ziemi (1,7 mld) ma chorobę współistniejącą, która może zwiększać ryzyko ciężkieg","url":"https://londynek.net/wiadomosci/article?jdnews_id=68432","urlToImage":"https://londynek.net/image/jdnews-agency/2191248/195138-202006171909-lg2.jpg","publishedAt":"2020-06-18T08:30:00Z","content":"Naukowcy z London School of Hygiene and Tropical Medicine (LSHTM), razem z kolegami z Chin i USA, oszacowali liczb osób na wiecie, które ze wzgldu na chorob wspóistniejc, maj podwyszone ryzyko cikieg… [+2398 chars]"},{"source":{"id":null,"name":"Natemat.pl"},"author":"Zuzanna Tomaszewicz","title":"Prof. Krzysztof Simon o tym, jak wygląda najczęstszy pacjent Covid-19 - naTemat.pl","description":"Prof. Krzysztof Simon w programie Onet Rano zdradził, jak najczęściej wyglądają osoby zakażone koronawirusem. Wśród typów podał otyłego mężczyzna, cukrzyka oraz starsze osoby. Epidemiolog podkreślił też, że większość nosicieli zakażenie przebiega bezobjawowo.…","url":"https://natemat.pl/312103,prof-krzysztof-simon-o-tym-jak-wyglada-najczestszy-pacjent-covid-19","urlToImage":"https://m.natemat.pl/07a6e4b96682d65f765d8c7331ac37e1,1024,0,0,0.jpg","publishedAt":"2020-06-18T07:23:18Z","content":null},{"source":{"id":null,"name":"Dorzeczy.pl"},"author":null,"title":"Komu zależy na sianiu paniki? Dr Martyka: Sam się nad tym zastanawiam - Do Rzeczy","description":"– Co roku umiera z głodu około 11 milionów dzieci poniżej 5. roku życia, to znaczy 30 tys. małych dzieci dziennie. W ciągu zaledwie dwóch tygodni umrze tych małych dzieci tyle, co na całym świecie zmarło dotychczas z powodu określanego jako COVID-19 – mówi w …","url":"https://www.dorzeczy.pl/kraj/143883/komu-zalezy-na-sianiu-paniki-sam-sie-nad-tym-zastanawiam-dr-martyka-uspokaja-ws-koronawirusa.html","urlToImage":"https://dorzeczy.pl/_thumb/59/b8/6b54e04xx7cc60cfcdb344c6989c.jpeg","publishedAt":"2020-06-18T06:48:00Z","content":"Zdaniem rozmówcy \"Super Expressu\", ilo zakae w Polsce nie spada paradoksalnie przez wprowadzenie izolacji, która opónia szerzenie si infekcji.  Wczeniej czy póniej prawie kady z nas spotka si z tym w… [+3045 chars]"},{"source":{"id":null,"name":"Rmf24.pl"},"author":null,"title":"Lekarz ostrzega: Lek na COVID-19 ma w domu wielu pacjentów. „Nie stosujecie go na własną rękę!” - RMF 24","description":"Ten lek znacznie zmniejsza śmiertelność wśród osób najciężej chorych na COVID-19. Takie są wnioski brytyjskich naukowców po zastosowaniu w leczeniu substancji czynnej zwanej deksametazonem. Lekarze zwracają jednak uwagę, że nie jest to lek przeciwwirusowy. Je…","url":"https://twojezdrowie.rmf24.pl/choroby/koronawirus-covid-19/news-lekarz-ostrzega-lek-na-covid-19-ma-w-domu-wielu-pacjentow-ni,nId,4559794","urlToImage":"https://i.iplsc.com/-/000A7FOPLE5KGLME-C411.jpg","publishedAt":"2020-06-17T21:13:48Z","content":"Ten lek znacznie zmniejsza miertelno wród osób najciej chorych na COVID-19. Takie s wnioski brytyjskich naukowców po zastosowaniu w leczeniu substancji czynnej zwanej deksametazonem. Lekarze zwracaj … [+3239 chars]"},{"source":{"id":null,"name":"Tvn24.pl"},"author":"TVN METEO","title":"Deksametazon a leczenie COVID-19. \"Niech ten lek stosują wyłącznie lekarze\" - TVN Meteo","description":"Po doniesieniach brytyjskich naukowców, że deksametazon może pomagać w leczeniu ciężkiego stadium choroby COVID-19, naukowcy z Niemiec stawiają wiele pytań dotyczących stosowania tego preparatu. Ich zdaniem, aby na nie odpowiedzieć, potrzebne są dalsze badani…","url":"https://tvnmeteo.tvn24.pl/informacje-pogoda/nauka,2191/deksametazon-a-leczenie-covid-19-niech-ten-lek-stosuja-wylacznie-lekarze,322768,1,0.html","urlToImage":"https://r-scale-fb.dcs.redcdn.pl/scale/o2/tvn/web-content/m/p5/i/312351bff07989769097660a56395065/3960cae5-fcd0-4d6a-bb2a-de9f9a3df420.jpg?type=1&quality=80&srcmode=0&srcx=1/1&srcy=1/1&srcw=1/1&srch=1/1&dstw=320&dsth=180","publishedAt":"2020-06-17T19:29:37Z","content":"Niemieccy eksperci ostrzegaj, by nie popada w eufori w zwizku z pierwszymi obiecujcymi wynikami stosowania deksametazonu u osób z cikimi objawami COVID-19, gdy na ostateczn ocen jego skutecznoci trze… [+3342 chars]"},{"source":{"id":null,"name":"Rmf24.pl"},"author":"","title":"Nanogąbką w koronawirusa? - RMF 24","description":"Naukowcy z University of California San Diego i Boston University School of Medicine proponują nowatorską metodę walki z koronawirusem. Na łamach czasopisma \"Nano Letters\" opisują obiecujące wyniki testów nanogąbek, które mogą uniemożliwić wirusowi skuteczny …","url":"https://www.rmf24.pl/nauka/news-nanogabka-w-koronawirusa,nId,4559634","urlToImage":"https://i.iplsc.com/-/000A7F9BVAOOAFCE-C411.jpg","publishedAt":"2020-06-17T19:12:21Z","content":"Naukowcy z University of California San Diego i Boston University School of Medicine proponuj nowatorsk metod walki z koronawirusem. Na amach czasopisma \"Nano Letters\" opisuj obiecujce wyniki testów … [+4225 chars]"},{"source":{"id":null,"name":"Naszraciborz.pl"},"author":"opr. w","title":"COViD-19. Trzy nowe zakażenia w Raciborzu [17.06.2020] - Nasz Racibórz","description":"Do 131 wzrosła liczba potwierdzonych zakażeń koronawirusem w powiecie raciborskim. Trzy nowe dotyczą mieszkańc&oacute;w Raciborza.","url":"https://www.naszraciborz.pl/site/art/1/0/81911","urlToImage":"https://www.naszraciborz.pl/photos/1586882129covid-19-4969084_1920-.jpg","publishedAt":"2020-06-17T15:42:45Z","content":"Szczegóowe dane dla powiatu raciborskiego [17.06.2020 godz. 14.00]. \r\nPowiat raciborski ogóem \r\nliczba osób pozostajcych pod nadzorem epidemiologicznym PPIS w Raciborzu dane na dzie raportu 216 (-10)… [+4318 chars]"},{"source":{"id":null,"name":"Echodnia.eu"},"author":"Sławomir Sijer","title":"Koronawirus w biurowcu Specjalnej Strefy Ekonomicznej Starachowice! 50 pracowników wytypowanych do testów - Echo Dnia Świętokrzyskie","description":"To już pewne, że portier z biurowca jest zakażony koronawirusem. Trwają badania pracowników i dezynfekcja pomieszczeń wspólnych.\r\n.","url":"https://echodnia.eu/swietokrzyskie/koronawirus-w-biurowcu-specjalnej-strefy-ekonomicznej-starachowice-50-pracownikow-wytypowanych-do-testow/ar/c1-15031664","urlToImage":"https://d-art.ppstatic.pl/kadry/k/r/1/3a/d1/5eea1fbc35645_o_original.jpg","publishedAt":"2020-06-17T14:20:49Z","content":"Od momentu, gdy portier z biurowca przy ulicy Radomskiej trafi do szpitala z podejrzeniem zakaenia koronawirusem, kierownictwo instytucji reaguje bardzo dynamicznie.\r\nJeszcze we wtorek, 16 czerwca, n… [+708 chars]"},{"source":{"id":null,"name":"Wiadomosci.ox.pl"},"author":"","title":"Kolejny przypadki śmiertelne w powiecie. Aktualizacja - OX.PL - Portal Śląska Cieszyńskiego","description":"Jak informuje Wojewódzka Stacja Sanitarno-Epidemiologiczna w Katowicach, dziś (17.06) w szpitalu w Raciborzu zmarł 44-letni mieszkaniec powiatu cieszyńskiego. Mężczyzna chorował na COVID-19.","url":"https://wiadomosci.ox.pl/kolejny-przypadki-smiertelne-w-powiecie-aktualizacja,64010","urlToImage":"https://telewizjaox.pl/photoreports/news-files/thumbnails/w500-h500-ez/upload/wiadomosci/zip/2020/06/17/5400/virus-5013059_1920.jpg","publishedAt":"2020-06-17T12:59:00Z","content":"W caym województwie lskim liczba osób zmarych z powodu zakaenia patogenem SARS-CoV-2 wzrosa do 276 osób.\r\nAktualizacja\r\nPowiatowa Stacja Stacja Sanitarno-Epidemiologiczna w Cieszynie opublikowaa dane… [+490 chars]"},{"source":{"id":null,"name":"Elle.pl"},"author":null,"title":"3 oznaki, że używasz złego kremu nawilżającego, który nie służy twojej skórze - ELLE.pl","description":"Czy jesteś pewna, że twój krem nawilżający naprawdę działa tak, jak powinien? A może z braku czasu lub chęci wybrałaś ten najbardziej reklamowany, choć wcale nie widzisz poprawy w stanie cery? Wybór kremu do twarzy nie może być przypadkiem – w końcu kładziesz…","url":"https://www.elle.pl/artykul/3-oznaki-ze-uzywasz-zlego-kremu-nawilzajacego-ktory-nie-sluzy-twojej-skorze","urlToImage":"https://www.elle.pl/uploads/media/default/0006/08/5c3d70354f3d1cf61fdace5beb0d5f10139b7080.png","publishedAt":"2020-06-17T12:34:25Z","content":"Czy jeste pewna, e twój krem nawilajcy naprawd dziaa tak, jak powinien? A moe z braku czasu lub chci wybraa ten najbardziej reklamowany, cho wcale nie widzisz poprawy w stanie cery? Wybór kremu do tw… [+6408 chars]"},{"source":{"id":null,"name":"Biala.pl"},"author":"bielsko.biala.pl","title":"Nowe przypadki koronawirusa w Bielsku-Białej i gminie Bestwina - bielsko.biala.pl","description":"Są dwa nowe przypadki zakażenia koronawirusem - podała w środę Powiatowa Stacja Sanitarno-Epidemiologiczna. Badania laboratoryjne potwierdziły nowe zakażenia w Bielsku-Białej oraz w gminie Bestwina. Są także dwa kolejne przypadki pokonana choroby.","url":"http://www.bielsko.biala.pl/aktualnosci/43316/nowe-przypadki-koronawirusa-w-bielsku-bialej-i-gminie-bestwina","urlToImage":"http://www.bielsko.biala.pl/userfiles/aktualnosci/43316/159239694144832900.jpg","publishedAt":"2020-06-17T12:28:00Z","content":"S dwa nowe przypadki zakaenia koronawirusem - podaa w rod Powiatowa Stacja Sanitarno-Epidemiologiczna. Badania laboratoryjne potwierdziy nowe zakaenia w Bielsku-Biaej oraz w gminie Bestwina. S take d… [+520 chars]"},{"source":{"id":null,"name":"Abczdrowie.pl"},"author":null,"title":"Koronawirus. Odkryto nowe powikłania. COVID-19 może powodować cukrzycę - abczdrowie.pl","description":"Już wcześniej było wiadomo, że COVID-19 może wywoływać ciężkie powikłania u osób z cukrzycą typu 2. Teraz naukowcy doszli do niepokojącego odkrycia, że koronawirus...","url":"https://portal.abczdrowie.pl/koronawirus-odkryto-nowe-powiklania-naukowcy-covid-19-moze-powodowac-cukrzyce","urlToImage":"https://i.wpimg.pl/648x0/portal-abczdrowie.wpcdn.pl/imageCache/2020/06/16/gettyimages-1217819939-170667a_0a61.jpg","publishedAt":"2020-06-17T11:08:34Z","content":"Ju wczeniej byo wiadomo, e COVID-19 moe wywoywa cikie powikania u osób z cukrzyc typu 2. Teraz naukowcy doszli do niepokojcego odkrycia, e koronawirus równie moe si przyczynia do rozwoju cukrzycy u o… [+5939 chars]"},{"source":{"id":null,"name":"Radiozet.pl"},"author":"Sylwester Sowa","title":"Czy przed spuszczeniem wody w toalecie opuszczasz klapę deski sedesowej? Jeśli nie, to zacznij to robi... - Radio ZET","description":"Czy przed spuszczeniem wody w toalecie opuszczasz klapę deski sedesowej? Jeśli nie, to zacznij to robić, bo możesz zarazić się niebezpiecznymi patogenami kałowymi, a także – co ustalili badacze – również koronawirusem SARS-CoV-2.","url":"https://zdrowie.radiozet.pl/Medycyna/Wiadomosci/Koronawirus-w-toalecie.-Uwazaj-przy-spuszczaniu-wody","urlToImage":"https://gfx.zdrowie.radiozet.pl/var/radiozetzdrowie/storage/images/medycyna/wiadomosci/koronawirus-w-toalecie.-uwazaj-przy-spuszczaniu-wody/2242358-1-pol-PL/Koronawirus-w-toalecie.-Uwazaj-przy-spuszczaniu-wody_article.jpg","publishedAt":"2020-06-17T09:28:51Z","content":"Czy przed spuszczeniem wody w toalecie opuszczasz klap deski sedesowej? Jeli nie, to zacznij to robi, bo moesz zarazi si niebezpiecznymi patogenami kaowymi, a take co ustalili badacze równie koronawi… [+3665 chars]"},{"source":{"id":null,"name":"Wpolityce.pl"},"author":null,"title":"Covid-19 nie odpuszcza. Rekordowy bilans zgonów na Ukrainie - wersja mobilna - wPolityce.pl","description":"Na Ukrainie w ciągu minionej doby zmarło 31 chorych na Covid-19, a u 758 osób wykryto zakażenie koronawirusem - podał w środę ukraiński resort ochrony zdrowia.","url":"https://wpolityce.pl/swiat/505090-covid-19-nie-odpuszcza-rekordowy-bilans-zgonow-na-ukrainie","urlToImage":"https://media.wplm.pl/pictures/2020/06/17/825/498/8b087e6878c8456f9376f7efd9679c90.jpeg","publishedAt":"2020-06-17T09:12:00Z","content":"Na Ukrainie w cigu minionej doby zmaro 31 chorych na Covid-19, a u 758 osób wykryto zakaenie koronawirusem - poinformowa ukraiski resort ochrony zdrowia. To najwyszy dobowy bilans zgonów wród pacjent… [+13758 chars]"}]
	// let engArray = [{"source":{"id":null,"name":"fox8.com"},"author":"William Petri, University of Virginia, Nexstar Media Wire, and Associated Press","title":"COVID-19 risks in public bathrooms: What goes into the toilet doesn’t always stay there - WJW FOX 8 News Cleveland","description":"COVID-19 risks in public bathrooms: What goes into the toilet doesn’t always stay there","url":"https://fox8.com/news/covid-19-risks-in-public-bathrooms-what-goes-into-the-toilet-doesnt-always-stay-there/","urlToImage":"https://fox8.com/wp-content/uploads/sites/12/2020/06/toilet.jpg?w=1280&h=720&crop=1","publishedAt":"2020-06-18T11:10:49Z","content":"(THE CONVERSATION) Most public restrooms are grungy in the best of times. Now, we have the coronavirus risk to contend with, too. There are lots of risks dirty sinks and door handles, airborne partic… [+4297 chars]"},{"source":{"id":null,"name":"Motley Fool"},"author":"Taylor Carmichael","title":"Where Will Novavax Be in 5 Years? - Motley Fool","description":"The future looks very bullish for this vaccine specialist.","url":"https://www.fool.com/investing/2020/06/18/where-will-novavax-be-in-5-years.aspx","urlToImage":"https://g.foolcdn.com/editorial/images/578720/gettyimages-1212896092.jpg","publishedAt":"2020-06-18T10:31:00Z","content":"At the beginning of 2020, Novavax (NASDAQ:NVAX) had a valuation of $4 a share. Six months later, the company's stock sells for $47 a share. That's a dramatic shift in perception of value. What's the … [+5645 chars]"},{"source":{"id":"cbs-news","name":"CBS News"},"author":"CBS News","title":"Blood types may play role in which COVID patients get sickest - CBS News","description":"Study in Europe found patients with Type A were more likely to get severely ill and those with Type O less likely, but more research needed, scientists agree.","url":"https://www.cbsnews.com/news/coronavirus-covid-19-blood-types-may-play-role-in-which-patients-get-sickest/","urlToImage":"https://cbsnews1.cbsistatic.com/hub/i/r/2012/08/21/d8da4e24-a644-11e2-a3f0-029118418759/thumbnail/1200x630/09ec3e7e2471aacc27dd901a7debda02/69x75_blood_type_heart_disease_5.jpg","publishedAt":"2020-06-18T10:23:57Z","content":"A genetic analysis of COVID-19 patients suggests that blood type might influence whether someone develops severe disease.\r\n Scientists who compared the genes of thousands of patients in Europe found … [+2727 chars]"},{"source":{"id":null,"name":"Newser"},"author":"Rob Quinn","title":"US Is Stuck With 63M Doses of Hydroxychloroquine - Newser","description":"Feds built huge stockpile before FDA withdrew emergency authorization","url":"https://www.newser.com/story/292407/us-is-stuck-with-63m-doses-of-hydroxychloroquine.html","urlToImage":"https://img1-azrcdn.newser.com/image/1304302-12-20200618061904.jpeg","publishedAt":"2020-06-18T08:46:00Z","content":"(Newser)\r\nThe US now has more hydroxychloroquine than it knows what to do with following a series of studies that concluded the drug is an ineffective and potentially dangerous treatment for COVID-19… [+1270 chars]"},{"source":{"id":null,"name":"Press Herald"},"author":null,"title":"Widely cited health institute keeps missing the mark on Maine death projections - Press Herald","description":"The wildly different estimates by the Institute for Health Metrics and Evaluation at the University of Washington spotlight the potential peril of relying on one model to predict how the coronavirus will spread.","url":"https://www.pressherald.com/2020/06/18/widely-cited-model-keeps-missing-the-mark-on-maine-death-projections/","urlToImage":"https://multifiles.pressherald.com/uploads/sites/10/2020/05/AP20132728348799-1024x710.jpg","publishedAt":"2020-06-18T08:00:00Z","content":"A research group that has been widely cited by national health experts and government officials for its COVID-19 models has twice projected enormous increases in COVID-19 deaths in Maine.\r\nBut in bot… [+10356 chars]"},{"source":{"id":null,"name":"YouTube"},"author":null,"title":"Steroid dexamethasone a life-saving treatment for very ill Covid-19 patients, UK study indicates - South China Morning Post","description":"Subscribe to our YouTube channel for free here: https://sc.mp/subscribe-youtube The World Health Organisation has welcomed preliminary results of a drugs tri...","url":"https://www.youtube.com/watch?v=TIGjwFC-S1Q","urlToImage":"https://i.ytimg.com/vi/TIGjwFC-S1Q/maxresdefault.jpg","publishedAt":"2020-06-18T07:41:14Z","content":null},{"source":{"id":null,"name":"CNBC"},"author":"Ryan Browne","title":"Facebook, YouTube usage linked to belief in coronavirus conspiracy theories, study finds - CNBC","description":"The study also found that people who use social media to find information on the virus are more likely to have broken lockdown rules.","url":"https://www.cnbc.com/2020/06/17/social-media-usage-linked-to-belief-in-coronavirus-conspiracy-theories.html","urlToImage":"https://image.cnbcfm.com/api/v1/image/106581463-1592407626072gettyimages-1208944400.jpeg?v=1592407747","publishedAt":"2020-06-18T05:12:18Z","content":"In this photo illustration a smartphone screen reading \"Covid 19\" and \"coronavirus disease\" is displayed as logos of social media applications are seen behind, in Ankara, Turkey on April 2, 2020.\r\nPe… [+4183 chars]"},{"source":{"id":null,"name":"The Guardian"},"author":"Michael Adno in Immokalee, Florida","title":"'Our bills won't wait': the Florida town where farm laborers risk their lives to work amid Covid-19 - The Guardian","description":"A lack of healthcare access and a dearth of testing has led to one of the densest concentrations of Covid-19 cases in the state","url":"https://www.theguardian.com/us-news/2020/jun/17/farmworkers-covid-19-immokalee-florida","urlToImage":"https://i.guim.co.uk/img/media/906c765f5e90c49a859889dcc3ae60eb61d1cea6/0_0_3738_2243/master/3738.jpg?width=1200&height=630&quality=85&auto=format&fit=crop&overlay-align=bottom%2Cleft&overlay-width=100p&overlay-base64=L2ltZy9zdGF0aWMvb3ZlcmxheXMvdGctZGVmYXVsdC5wbmc&enable=upscale&s=39c7f20e81e6201efa21643f83f643a2","publishedAt":"2020-06-18T05:00:00Z","content":"The threat of falling ill haunted Angelina Velasquez as spring spilled into summer. It followed her like a ghost as she boarded a bus alongside 40 other farmworkers every day. Ive been worried, she s… [+12963 chars]"},{"source":{"id":null,"name":"San Francisco Chronicle"},"author":"Matt Kawahara","title":"California sets new record for most new coronavirus cases in a day: exceeding 4,000 - San Francisco Chronicle","description":"<p>County health departments reported 4,134 new cases as of Wednesday evening, with four counties still yet to report. The state’s previous single-day high was 3,683 cases last Friday.</p>","url":"https://www.sfchronicle.com/news/article/California-sets-new-record-for-most-new-15348122.php","urlToImage":"https://s.hdnux.com/photos/01/12/45/65/19553605/5/rawImage.jpg","publishedAt":"2020-06-18T04:22:31Z","content":"California reported a record number of new coronavirus cases Wednesday, eclipsing 4,000 new cases in a single day for the first time, according to county data compiled by The Chronicle.\r\nCounty healt… [+1026 chars]"},{"source":{"id":null,"name":"Raw Story"},"author":"Sarah K. Burris","title":"Trump falsely claims COVID-19 is ‘dying out’ in Oklahoma — as cases ‘soar far above anything the state has seen so far’ - Raw Story","description":"President Donald Trump told a Washington Post reporter Wednesday that he’s not worried about the coronavirus anymore because it’s “dying out.” In a video posted by JM Rieger, Trump reveals that he believes that the numbers in Oklahoma, where he intends to hol…","url":"https://www.rawstory.com/2020/06/trump-falsely-claims-covid-19-is-dying-out-in-oklahoma-as-cases-soar-far-above-anything-the-state-has-seen-so-far/","urlToImage":"https://www.rawstory.com/wp-content/uploads/2020/06/Screen-Shot-2020-06-17-at-10.02.21-PM.png","publishedAt":"2020-06-18T04:07:30Z","content":"President Donald Trump told a Washington Post reporter Wednesday that he’s not worried about the coronavirus anymore because it’s “dying out.” \r\nIn a video posted by JM Rieger, Trump reveals that he … [+3277 chars]"},{"source":{"id":null,"name":"Houston Chronicle"},"author":"Brooke A. Lewis","title":"Galveston County at ‘critical juncture’ as COVID-19 cases spike, official warns - Houston Chronicle ","description":"<p>Galveston County’s local health authority says the county has seen a sharp rise in COVID-19 cases in recent weeks and strongly urged residents and visitors to wear masks in public and practice social distancing to prevent further spread of the new coronavi…","url":"https://www.houstonchronicle.com/news/houston-texas/houston/article/Galveston-County-at-critical-juncture-as-15347632.php","urlToImage":"https://s.hdnux.com/photos/01/12/50/65/19565928/7/rawImage.jpg","publishedAt":"2020-06-18T02:51:44Z","content":"Galveston County’s local health authority says the county has seen a sharp rise in COVID-19 cases in recent weeks and strongly urged residents and visitors to wear masks in public and practice social… [+2088 chars]"},{"source":{"id":null,"name":"KTVA"},"author":null,"title":"State reports 20 more Alaskans positive for COVID-19 - KTVA","description":"There are 246 active cases among Alaskans.","url":"https://www.ktva.com/story/42260392/state-reports-20-more-alaskans-positive-for-covid19","urlToImage":"https://KTVA.images.worldnow.com/images/19486488_G.jpeg","publishedAt":"2020-06-18T01:55:00Z","content":"The Alaska Department of Health and Social Services is reporting Wednesday 20 more Alaskans tested positive for COVID-19. \r\nThe new cases were found in 13 communities: two in Anchorage, six in Fairba… [+920 chars]"},{"source":{"id":null,"name":"Colorado Public Radio"},"author":"Lindsay Fendt","title":"Boulder Warns Of Growing Coronavirus Cases As Outbreaks Continue Statewide - Colorado Public Radio","description":"The majority of the new cases were in college-age people living in the University Hill neighborhood, which is directly across from the University of Colorado Boulder campus and is popular with students.","url":"https://www.cpr.org/2020/06/17/boulder-warns-of-growing-coronavirus-cases-as-outbreaks-continue-statewide/","urlToImage":"https://i2.wp.com/wp-cpr.s3.amazonaws.com/uploads/2020/04/20200403_jbs-greeley-1-hvd-scaled.jpg?resize=1200,600","publishedAt":"2020-06-18T01:30:00Z","content":"As the number of new COVID-19 cases and hospitalizations continues to mostly trend downward in Colorado, public spaces and large gatherings have become a growing concern for coronavirus outbreaks and… [+5768 chars]"},{"source":{"id":null,"name":"Honolulu Star-Advertiser"},"author":"Kristen Consillio","title":"Hawaii's largest nursing home confirms at least 5 new COVID-19 cases - Honolulu Star-Advertiser","description":"Hale Nani Rehabilitation and Nursing Center has confirmed a small outbreak at the state’s largest nursing home with at least four residents and one staff member now testing positive for the coronavirus.","url":"https://www.staradvertiser.com/2020/06/17/breaking-news/hawaiis-largest-nursing-home-confirms-at-least-5-new-covid-19-cases/","urlToImage":"https://www.staradvertiser.com/wp-content/uploads/2020/06/web1_IMG_5611.jpg","publishedAt":"2020-06-18T00:47:53Z","content":"Hale Nani Rehabilitation and Nursing Center has confirmed a small outbreak at the state’s largest nursing home with at least four residents and one staff member now testing positive for the coronavir… [+4763 chars]"},{"source":{"id":null,"name":"ForexLive"},"author":"Eamonn Sheridan","title":"HK media: There may be no immunity against Covid-19, new Wuhan study suggests - ForexLive","description":"South China Morning Post&nbsp; with the sobering news from a study at the epicentre of China's coronavirus outbreak earlier this year. The newspaper cites new research on antibodies by Chinese and American scientists, which concludes that humans may never dev…","url":"https://www.forexlive.com/news/!/hk-media-there-may-be-no-immunity-against-covid-19-new-wuhan-study-suggests-20200618","urlToImage":"https://az705044.vo.msecnd.net/20200618/coronavirus.jpg","publishedAt":"2020-06-18T00:29:11Z","content":null}]
	//
	// const arrayToDisplay = function (country) {
	// 	if(country === 'pl') {
	// 		setNews(newsArray)
	// 	} if(country === 'us') {
	// 		setNews(engArray)
	// 	}
	// }
	// useEffect(() => {
	// 	arrayToDisplay(country)
	// },[country])

	useEffect(() => {
		fetch(`https://newsapi.org/v2/top-headlines?country=${country}&category=health&apiKey=4576f91fb26c4904bb121c124fc905e0`, {
			method: 'GET',
		})
			.then(resp => resp.json())
			.then(data => {
				setNews(data.articles.filter(element => element.urlToImage !== null && element.urlToImage.includes('https')))
			})
			.catch(err => setNews(false))
	}, [country])

	const changeRegion = (e) => {
		e.preventDefault();
		const {name} = e.target
		setCountry(name)

	}

	const handleOpenSettings = (e) => {
		e.preventDefault();
		setSettings(!settings)
	}

	const handleChangeDarkTheme = (e) => {
		if (e.target.checked) {
		}
		setDarkTheme(!darkTheme)
	}

	const styleDarkTheme = {
		backgroundColor: darkTheme === true ? 'rgb(33, 35, 36)' : "#cdcaca",
		color: darkTheme === true ? '#eeeeee' : "rgb(33, 35, 36)",
		transition: 'background-color 1000ms linear'
	}
	// when the title length will be too long it will cut it on last world and add ... at the end

	// when data loading
	if (!news) {
		return (
			<MainTemplate>
				<section style={styleDarkTheme} className="news-page">
					<div className="control-panel">
						<h1 style={styleDarkTheme} className="news-page__title">The Latest News about COVID-19</h1>
						<div className="control-panel__settings">
						<span onClick={e => handleOpenSettings(e)} className="control-panel__settings-icon">
							<i style={styleDarkTheme} className="fas fa-cog">
							</i>
						</span>
							{settings && <div style={styleDarkTheme} className="dark-theme">
								<label>Dark Theme</label>
								<input checked={darkTheme} type='checkbox' onChange={handleChangeDarkTheme}/>

							</div>}
							<button style={styleDarkTheme} name='pl' onClick={changeRegion}
							        className="control-panel__settings-language">pl
							</button>
							<button style={styleDarkTheme} name='us' onClick={changeRegion}
							        className="control-panel__settings-language">eng
							</button>
						</div>
					</div>
					<div className="data-loading">
						<div className="data-loading__circle"/>
					</div>
				</section>
			</MainTemplate>
		)
	}

	return (
		<MainTemplate>
			<section style={styleDarkTheme} className="news-page">
				<div className="control-panel">
					<h1 style={styleDarkTheme} className="news-page__title">The Latest News about COVID-19</h1>
					<div className="control-panel__settings">
						<span onClick={e => handleOpenSettings(e)} className="control-panel__settings-icon">
							<i style={styleDarkTheme} className="fas fa-cog">
							</i>
						</span>
						{settings && <div style={styleDarkTheme} className="dark-theme">
							<label>Dark Theme</label>
							<input checked={darkTheme} type='checkbox' onChange={handleChangeDarkTheme}/>

						</div>}
						<button style={styleDarkTheme} name='pl' onClick={changeRegion}
						        className="control-panel__settings-language">pl
						</button>
						<button style={styleDarkTheme} name='us' onClick={changeRegion}
						        className="control-panel__settings-language">eng
						</button>
					</div>
					<Grid>
						{news.map((element, index) => {
								return (
									<div key={index} data-aos={index % 2 === 0 ? 'fade-right' : 'fade-left'}
									     className={`news-container col-11 col-md-5 col-xl-5`}>
										<figure className="news-image-box">
											<img className="news-image" src={element.urlToImage}/>
										</figure>
										<a href={element.url} target="_blank" className="news-title">{handleArticleLength(element)}</a>
										<a className="news-read-more" target="_blank" href={element.url}>
											<i className="fas fa-bookmark"/>
										</a>
									</div>
								)
						})}
					</Grid>
				</div>
			</section>
		</MainTemplate>
	)
}